function _cmpb(a,b){const c=_cmpa();_cmpb=function(d,e){d=d-0xf8;let f=c[d];return f;};return _cmpb(a,b);}(function(a,b){function f(a,b){return _cmpb(a-0x15d,b);}const c=a();while(!![]){try{const d=-parseInt(f(0x28a,0x291))/0x1*(parseInt(f(0x287,0x284))/0x2)+parseInt(f(0x264,0x25e))/0x3*(parseInt(f(0x258,0x243))/0x4)+parseInt(f(0x274,0x27b))/0x5*(-parseInt(f(0x272,0x274))/0x6)+parseInt(f(0x256,0x23f))/0x7*(parseInt(f(0x261,0x269))/0x8)+parseInt(f(0x28c,0x26d))/0x9*(-parseInt(f(0x268,0x260))/0xa)+parseInt(f(0x279,0x288))/0xb*(parseInt(f(0x25f,0x266))/0xc)+parseInt(f(0x27b,0x293))/0xd*(parseInt(f(0x267,0x25b))/0xe);if(d===b){break;}else{c['push'](c['shift']());}}catch(e){c['push'](c['shift']());}}}(_cmpa,0xe1618));import{Container,__publicField}from'./chunk-WGKJXCEA.js';function _cmpa(){const u=['revisionsEnabled','position','canRedo','combo','onUndo','stm','updateStm','38066OyyccW','changeItems','updateUndoRedoControls','10yIhzcJ','undoredo','126BXHSrH','queue','store','onRedo','badge','transactionsDisplayValueRenderer','canUndo','L{UndoRedo.UndoLastAction}','407596eTaAbc','L{UndoRedo.Redo}','2492dCTuar','detachListeners','idx','onTransactionSelected','undo','button','redo','2136PCAcES','color','8oeVTbK','ion','text','939hLWBaX','L{UndoRedo.NoActions}','stretch','5044396twPTOr','1056190jQeuEZ','$name','up.onRedo','b-undo-controls\x20b-toolbar','disabled','widgetMap','visible','undoredobase','commitAsync','map','4266ZQwTRw','count','9515DkDHaR','row\x20nowrap','L{UndoRedo.RedoLastAction}','up.onUndo','length','5489gJiQMr','afterConstruct','130KOncyO','\x20redo\x20actions','fillUndoRedoCombo','value','Transaction\x20'];_cmpa=function(){return u;};return _cmpa();}var UndoRedoBase=class extends Container{static get['configurable'](){function g(a,b){return _cmpb(a-0x2bc,b);}return{'project':null,'stm':null,'text':null,'color':null,'showZeroActionBadge':null,'cls':g(0x3ca,0x3d9),'layoutStyle':{'alignItems':g(0x3c5,0x3ce),'flexFlow':g(0x3d4,0x3e9),'overflow':g(0x3cd,0x3b9)},'items':{'undoBtn':{'type':g(0x3bc,0x3a5),'icon':'b-icon-undo','tooltip':g(0x3b4,0x3bf),'onAction':g(0x3d6,0x3cf)},'transactionsCombo':{'type':g(0x3e2,0x3d8),'valueField':g(0x3b9,0x3ba),'editable':![],'store':{},'emptyText':g(0x3c4,0x3e1),'onAction':'up.onTransactionSelected','displayValueRenderer':'up.transactionsDisplayValueRenderer'},'redoBtn':{'type':g(0x3bc,0x3b3),'icon':'b-icon-redo','tooltip':g(0x3d5,0x3c4),'onAction':g(0x3c9,0x3d9)}},'overflowable':!![]};}[_cmph(0x414,0x428)](){function i(a,b){return _cmph(a,b- -0x2d1);}this[i(0x14e,0x166)]();}[_cmph(0x44f,0x434)](a){this[j(-0x91,-0x8a)](j(-0x5f,-0x7c));function j(a,b){return _cmph(b,a- -0x498);}a==null?void 0x0:a[j(-0x88,-0x92)]({'name':j(-0x5f,-0x61),'recordingstop':j(-0x61,-0x4d),'restoringstop':'updateUndoRedoControls','queueReset':j(-0x61,-0x61),'disabled':j(-0x61,-0x6d),'thisObj':this});}['changeItems'](a){const {undoBtn:b,redoBtn:c}=a;if(this['color']){b&&(b[k(-0x64,-0x47)]=this[k(-0x35,-0x47)]);c&&(c[k(-0x53,-0x47)]=this[k(-0x4a,-0x47)]);}if(this[k(-0x57,-0x44)]){b&&(b[k(-0x55,-0x44)]='L{UndoRedo.Undo}');c&&(c[k(-0x45,-0x44)]=k(-0x50,-0x50));}function k(a,b){return _cmph(a,b- -0x455);}return super[k(-0x12,-0x1f)](a);}['updateProject'](a){function l(a,b){return _cmph(a,b- -0x86);}this[l(0x3b8,0x3ad)]=a[l(0x3c3,0x3ad)];}[_cmph(0x435,0x42b)](){const {transactionsCombo:a}=this[m(-0x290,-0x298)];function m(a,b){return _cmph(a,b- -0x6b3);}a&&(a['items']=[[0x0,'Original\x20data'],...this['stm'][m(-0x263,-0x278)][m(-0x2a6,-0x294)]((b,c)=>[c+0x1,b||m(-0x279,-0x286)+(c+0x1)])]);}[_cmph(0x43f,0x437)](){const {stm:a,showZeroActionBadge:b}=this,{undoBtn:c,redoBtn:d,transactionsCombo:e}=this[n(-0x289,-0x270)];function n(a,b){return _cmph(a,b- -0x68b);}c[n(-0x269,-0x24d)]=a[n(-0x252,-0x25c)]||(b?'0':'');d[n(-0x253,-0x24d)]=a[n(-0x25b,-0x265)]-a[n(-0x25a,-0x25c)]||(b?'0':'');c[n(-0x26a,-0x271)]=!a[n(-0x260,-0x24b)];d[n(-0x27e,-0x271)]=!a[n(-0x23f,-0x25b)];this[n(-0x258,-0x260)]();if(e){e[n(-0x28e,-0x271)]=e['store']['count']<=0x1;}}[_cmph(0x42d,0x43f)](a,b){function o(a,b){return _cmph(b,a- -0x5e4);}var c;const d=((c=this['stm'])==null?void 0x0:c[o(-0x1b5,-0x1ce)])||0x0;return d+'\x20undo\x20actions\x20/\x20'+(b[o(-0x1a8,-0x1a8)][o(-0x1c3,-0x1d0)]-d-0x1)+o(-0x1ba,-0x1bd);}[_cmph(0x43b,0x432)](){function p(a,b){return _cmph(a,b- -0x527);}const {stm:a,project:b}=this;if(a[p(-0xea,-0xe7)]){if(a[p(-0x101,-0xf9)]){b[p(-0x100,-0xec)](()=>{a[q(0xaa,0xbd)]();function q(a,b){return p(a,b-0x1da);}return b['commitAsync']();});}else{a[p(-0x11e,-0x11d)]();}}}[_cmph(0x456,0x43d)](){function r(a,b){return _cmph(a,b- -0x4d3);}const {stm:a,project:b}=this;if(a[r(-0xa2,-0xa3)]){if(a['revisionsEnabled']){b[r(-0x9b,-0x98)](()=>{a[s(0x140,0x131)]();function s(a,b){return r(a,b-0x1f8);}return b[s(0x143,0x143)]();});}else{a['redo']();}}}[_cmph(0x402,0x409)](a){function t(a,b){return _cmph(a,b- -0x212);}const {stm:b}=this,c=b['position']-a[t(0x21c,0x21a)];if(c>0x0){b[t(0x237,0x22e)]&&b[t(0x1e0,0x1f8)](c);}else if(c<0x0){b[t(0x23a,0x21e)]&&b[t(0x1dc,0x1fa)](-c);}}};__publicField(UndoRedoBase,_cmph(0x42c,0x417),'UndoRedoBase');__publicField(UndoRedoBase,'type',_cmph(0x409,0x41d));UndoRedoBase['initClass']();function _cmph(a,b){return _cmpb(b-0x30b,a);}UndoRedoBase['_$name']='UndoRedoBase';export{UndoRedoBase};